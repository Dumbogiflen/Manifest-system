<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <title>Pilatus Manifest</title>
  <link rel="stylesheet" href="/static/style.css" />
  <style>
    /* Små justeringer til totals & knapper (skader ikke eksisterende CSS) */
    .total-row { display:flex; align-items:center; gap:8px; margin-top:6px; }
    .total-row label { min-width: 140px; }
    #totalJumpers, #totalCanopies { width:120px; }
    #sendLiftBtn { display:block; width:100%; margin-top:12px; padding:10px; font-size:16px; }
    /* Quick buttons med sort tekst */
    #quick button { color:#000; }
    /* Chat bobler – behold eksisterende, men tilføj fallback */
    .chat { max-height: 420px; overflow-y:auto; }
    .msg { max-width:70%; padding:8px 10px; border-radius:10px; margin:6px 0; }
    .msg.in  { background:#eef2f7; color:#233; border-top-left-radius:4px; }
    .msg.out { background:#cce5ff; color:#002; margin-left:auto; border-top-right-radius:4px; }
  </style>
</head>
<body>
  <header>Pilatus Manifest</header>
  <div class="container">

    <div class="row" style="justify-content:space-between;margin:8px 0 16px 0;">
      <div><span id="club" class="badge"></span></div>
      <div>
        <button class="secondary" onclick="refreshState()">Opdatér</button>
      </div>
    </div>

    <div class="grid">
      <!-- LIFT -->
      <div class="card">
        <h3>Opret lift</h3>
        <div class="row" style="gap:12px;">
          <label for="liftId">Lift nr.</label>
          <input id="liftId" type="number" min="1" value="1" style="width:120px" />
        </div>

        <table class="table" style="margin-top:8px;">
          <thead>
            <tr><th>Højde (m)</th><th>Springere</th><th>Overflyvninger</th></tr>
          </thead>
          <tbody id="liftRows"></tbody>
        </table>

        <div class="total-row">
          <label for="totalJumpers">Total springere</label>
          <input id="totalJumpers" type="number" min="0" placeholder="(auto / manuelt)" />
        </div>
        <div class="total-row">
          <label for="totalCanopies">Total skærme</label>
          <input id="totalCanopies" type="number" min="0" placeholder="(auto / manuelt)" />
        </div>
        <button id="sendLiftBtn" onclick="sendLift()">Send lift</button>

        <div style="margin-top:12px;">
          <h4>Sendte lifts (seneste først)</h4>
          <div id="liftList"></div>
        </div>
      </div>

      <!-- CHAT -->
      <div class="card">
        <h3>Beskeder</h3>
        <div id="chat" class="chat"></div>

        <div class="row" style="margin-top:8px;">
          <input id="msgInput" type="text" placeholder="Skriv besked…" style="flex:1;" />
          <button id="sendBtn">Send</button>
        </div>

        <div style="margin-top:8px;">
          <div class="row" style="justify-content:space-between; align-items:center;">
            <div style="font-weight:600;">Hurtigbeskeder</div>
            <button id="gearBtn" class="secondary" title="Redigér">⚙️</button>
          </div>
          <div id="quick" class="quick" style="margin-top:6px;"></div>

          <!-- Skjult boks til tilføjelse, vises kun ved redigering -->
          <div id="quickConfig" class="row" style="display:none; gap:8px; margin-top:6px;">
            <input id="quickText" type="text" placeholder="Ny hurtigbesked…" />
            <button class="secondary" id="addQuickBtn">Tilføj</button>
          </div>
        </div>
      </div>
    </div>

  </div>
  <script src="/static/app.js"></script>
</body>
</html>
